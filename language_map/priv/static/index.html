<!DOCTYPE html>
<html>
  <head>
    <title>Language Map of the United States</title>
    <meta name="description" content="This language map of the United States provides insight into multilingualism and language use in the United States.">
    <link href="https://fonts.googleapis.com/css?family=Hind:400,700" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css"
      integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ=="
      crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"
      integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw=="
      crossorigin=""></script>
    <link rel="stylesheet" href="static/css/main.css" />
    <script
      src="https://code.jquery.com/jquery-3.3.1.min.js"
      integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
      crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.10/lodash.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.css" />
    <link rel="shortcut icon" href="static/favicon.ico" type="image/x-icon">
    <link rel="icon" href="static/favicon.ico" type="image/x-icon">
    <meta name="viewport" content="width=device-width, initial-scale=1">
  </head>
  <body>
    <div id="about_me" class="modal">
      <h3 class="modal__title">About</h3>
      <p>This language map of the United States provides insight into multilingualism and language use in the United States.</p>
      <p>There are two different geographic areas used: states and <a href="https://www.census.gov/geo/reference/puma.html">PUMAs (Public Use Microdata Areas)</a>. PUMAs are contained within states, are built on census tracts and counties, and contain at least 100,000 people.</p>
      <p>The dataset for this project is the <a href="https://www.census.gov/programs-surveys/acs/technical-documentation/pums/documentation.2016.html">2012-2016 American Community Survey (ACS) 5-year Public Use Microdata Sample (PUMS)</a> made available by the Census Bureau.</p>
      <p>For more information or to contribute to the project or report an issue, please see the <a href="https://github.com/pcaisse/language-map-us">GitHub repo</a>.</p>
    </div>
    <div id="faq" class="modal">
      <h3 class="modal__title">FAQ</h3>
      <p class="question">What does this map show?</p>
      <p class="answer">This map shows the number of speakers of different languages (other than English) spoken at home in the United States.</p>
      <p class="question">Why a language map?</p>
      <p class="answer">This map aims to inform the general public about multilingualism and language use in the United States. It can also be used by educators to teach students about linguistic diversity or even by policy makers to better understand where speakers of certain languages reside.</p>
      <p class="question">Where did the data come from?</p>
      <p class="answer">This project uses public data collected and made available by the US Census Bureau, specifically from the <a href="https://www.census.gov/programs-surveys/acs/technical-documentation/pums/documentation.2016.html">2012-2016 American Community Survey (ACS) 5-year Public Use Microdata Sample (PUMS)</a>.</p>
      <p class="question">What are the geographic subdivisions shown within states?</p>
      <p class="answer">They are called <a href="https://www.census.gov/geo/reference/webatlas/pumas.html">PUMAs (Public Use Microdata Areas)</a>. PUMAs are contained within states, are built on census tracts and counties, and contain at least 100,000 people.</p>
      <p class="question">Why PUMAs? Why not counties?</p>
      <p class="answer">PUMAs are the smallest geographic area for which this <a href="https://www.census.gov/programs-surveys/acs/">ACS</a> data is made available, and thus provides the most granularity (more than states or counties). Furthermore, PUMAs by definition contain at least 100,000 people which, unlike counties, gives them the nice property of reflecting population density; the smaller the PUMAs, the more dense the population in that area. With PUMAs, we can tell at a glance how many speakers there are in a given area.</p>
      <p class="question">What do the percentages mean?</p>
      <p class="answer">The percentages represent the percentage of the population that speaks that language (given any filters that are applied) within that area.</p>
      <p class="question">Why are the ranges of percentages of speakers so tiny?</p>
      <p class="answer">The map uses a <a href="https://en.wikipedia.org/wiki/Logarithmic_scale">logarithmic scale</a> which means that every "bucket" of speakers represents 10x more speakers than the next smallest one. The reason for this is because there is a very wide range in the number of speakers between languages. Spanish, the most widely spoken non-English language in the United States, is spoken at home by the vast majority of people in some areas (see Miami-Dade county in south Florida). By contrast, the Shona language is estimated to be spoken at home by a total of only 9510 people. The advantage of using a logarithmic scale is that this difference remains discernible on the map, not just for these two extremes but for all of the other not very widely spoken languages in between. The disadvantage is that you lose granularity with widely spoken languages like Spanish since the same color is used to represent everything from 10% to 100%.</p>
      <p class="question">Where can I see the code?</p>
      <p class="answer">Please see the <a href="https://github.com/pcaisse/language-map-us">GitHub repo</a>.</p>
    </div>

    <header class="header">
      <h1 class="header__title">
        Language Map of the United States
      </h1>

      <div class="nav">
        <ul class="nav__list">
          <li class="nav__list-item">
            <a class="nav__link" href="#about_me" rel="modal:open">About</a>
          </li>
          <li class="nav__list-item">
            <a class="nav__link" href="#faq" rel="modal:open">FAQ</a>
          </li>
          <li class="nav__list-item">
            <a class="nav__link" href="mailto:info@languagemap.us">Contact</a>
          </li>
        </ul>
      </div>
    </header>
    
    <main class="main">
      <!-- Loading spinner -->
      <div class="loader"></div>

      <div id="filters">
        <a id="toggle-content" class="active" href="#"><span></span></a>
        <div id="form-container">
          <form class="form">
            <fieldset class="form__fieldset">
              <div>
                <label for="language" class="form__label">Language spoken at home</label>
                <select id="language" class="form__input form__select"></select>
              </div>
            </fieldset>
            <div id="extra-filters">
              <fieldset id="age-filters" class="form__fieldset">
                <legend class="form__legend">Age</legend>
                <div>
                  <label for="age_from" class="form__label">From</label>
                  <select id="age_from" class="form__input form__select"></select>
                  <label for="age_to" class="form__label">to</label>
                  <select id="age_to" class="form__input form__select"></select>
                  <span class="form__label">years old</span>
                </div>
              </fieldset>
              <fieldset class="form__fieldset">
                <div>
                  <label for="english" class="form__label">English speaking ability</label>
                  <select id="english" class="form__input form__select"></select>
                </div>
              </fieldset>
              <fieldset class="form__fieldset">
                <div>
                  <label for="citizenship" class="form__label">Citizenship status</label>
                  <select id="citizenship" class="form__input form__select"></select>
                </div>
              </fieldset>
            </div>
          </form>
          <footer class="filter-toggle">
            <div class="filter-toggle__content">
              <button type="button" id="show_filters" class="filter-toggle__button button button--transparent">
                <img src="static/img/plus-circle.svg">
                More filters
              </button>
              <button type="button" id="hide_filters" class="filter-toggle__button button button--transparent">
                <img src="static/img/minus-circle.svg">
                Less filters
              </button>
            </div>
          </footer>
        </div>
      </div>

      <div class="legend">
        <div class="legend__header">
          <h2 class="legend__title">Percentage of speakers</h2>
          <span id="hide_legend" class="legend__close">&times;</span>
        </div>
        <ul id="legend-items"></ul>
      </div>
      <div class="legend__toggle-container">
        <button type="button" id="show_legend" class="button">
          <img src="static/img/eye.svg">
          Show legend
        </button>
      </div>

      <div id="map"></div>
    </main>

    <script type="text/javascript" src="static/js/main.js"></script>
    <script type="text/javascript" src="static/js/worker.js"></script>
  </body>
</html>
